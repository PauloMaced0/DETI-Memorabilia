{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Set Up Your 2FA Authentication</h1>
    <p><strong>Step 1:</strong> Install a two-factor authentication app on your smartphone. We recommend using <em>Google Authenticator</em>, which is available for both iOS and Android devices.</p>
    <p><strong>Step 2:</strong> Open the app on your phone and select 'Set up account' or 'Scan a QR code'.</p>
    <img src="{{ img_path }}" alt="Your OTP QR Code">
    <p><strong>Step 3:</strong> Using the app, scan the QR code shown above. This will link your account to the app and enable 2FA.</p>
    <p><strong>Step 4:</strong> Once you have successfully scanned the QR code, your app will generate a 6-digit code that changes every 30 seconds. Use this code for logging in along with your username and password.</p>
    <p>After setting up 2FA, click the button below to return to the login page and enter your credentials along with the 6-digit code generated by the app.</p>
    <form action="/verify_registration" method="POST">
        <label for="otp_code">Enter your OTP code:</label>
        <input type="text" id="otp_code" name="otp_code" required>
        <input type="submit" value="Submit">
    </form>
    {% if error %}
        <p>{{ error }}</p>
    {% endif %}
</div>
{% endblock %}